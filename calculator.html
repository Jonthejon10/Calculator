<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="utf-8">
    <title>Calculator</title>
</head>

<body>
    <div id='outline'>
        <div id='display'> 0 </div>
        <div id='firstRow'>
            <button class = 'b0 ' value='0'> 0 </button>
            <button class ='bComma button'> , </button>
            <button class ='bEqual button'> = </button>
        </div>
        <div id='secondRow'>
            <button class='button numberButton'value='1'>1</button>
            <button class='button numberButton'value ='2'>2</button>
            <button class='button numberButton'value ='3'>3</button>
            <button class='b+ button operatorButton'value='+'>+</button>
        </div>
        <div id='thirdRow'>
            <button class='button numberButton'value ='4'>4</button>
            <button class='button numberButton'value ='5'>5</button>
            <button class='button numberButton'value ='6'>6</button>
            <button class='button operatorButton'value='-'>-</button>
        </div>
        <div id='forthRow'>
            <button class='button numberButton'value ='7'>7</button>
            <button class='button numberButton'value ='8'>8</button>
            <button class='button numberButton'value ='9'>9</button>
            <button class='button operatorButton'value ='x'>x</button>
        </div>
        <div id='fifthRow'>
            <button class='bAc button'>AC</button>
            <button class='bC button'>C</button>
            <button class='bDivision button operatorButton'value='/'>รท</button>
        </div>
    </div>

</body>

<script>

function add(num1, num2) {
    return num1 + num2;
}

function subtract(num1, num2) {
    return num1 - num2;
}
 
function multiply(num1, num2) {
    return num1 * num2;
}

function division(num1, num2) {
    return num1 / num2;
}

function operate(num1, operator, num2) {
    if (operator == '+') {
        return add(num1, num2);
    } else if (operator == '-') {
        return subtract(num1, num2)
    } else if (operator == 'x') {
        return multiply(num1, num2)
    } else if (operator == '/') {
        return division(num1, num2);
    }
}
const display = document.getElementById('display');
const numberButtons = document.getElementsByClassName('numberButton')
const button0 = document.getElementsByClassName('b0')[0];
const operatorButtons = document.getElementsByClassName('operatorButton')
const equalButton = document.getElementsByClassName('bEqual')[0];
const clearButton = document.getElementsByClassName('bC')[0];
const clearAllButton = document.getElementsByClassName('bAc')[0];

/* const plusButton = document.getElementsByClassName('b+')[0];
const minusButton = document.getElementsByClassName('b-')[0];
const multiplyButton = document.getElementsByClassName('bX')[0];
const divisionButton = document.getElementsByClassName('bDivision')[0];
*/
let equalPress = false;
let plusPress = false;
let subtractPress = false;
let multiplyPress = false;
let divisionPress = false;

let displayValue = '';
let firstNumber;
let secondNumber;
let operatorSign;
let previousOperator;
let clickCounter = 0;

for (let i=0; i<numberButtons.length; i++) {
    numberButtons[i].addEventListener('click', () => {
        displayValue += numberButtons[i].value;
        display.textContent = displayValue;
        //minusButton.disabled = false;
        //subtractButton.disabled = false;
        //multiplyButton.disabled = false;
        //divisionButton.disabled = false;
    });
}

button0.addEventListener('click', () => {
    if (display.textContent != 0) {
        displayValue += button0.value;
        display.textContent = displayValue;
    }
});

clearAllButton.addEventListener('click', () => {
    display.textContent = 0;
    displayValue = '';
    firstNumber = '';
    secondNumber = '';
    equalPress = false;
    plusPress = false;
    subtractPress = false;
    multiplyPress = false;
    divisionPress = false;
});

clearButton.addEventListener('click', () => {
    displayValue = displayValue.substring(0, displayValue.length - 1);
    display.textContent = displayValue;
    if (displayValue.length < 1) {
        display.textContent = 0;
        firstNumber = '';
    }
});

for (let i=0; i<operatorButtons.length; i++) {
    operatorButtons[i].addEventListener('click', () => {
        if (operatorButtons[i].value == '+') {
            firstNumber = displayValue;
            operatorSign = "+"
            displayValue = '';
            plusPress = true;
            //operatorButtons[i].disabled = true;
        } else if (operatorButtons[i].value == '-') {
            firstNumber = displayValue;
            operatorSign = '-'
            displayValue = '';    
            subtractPress = true;
            //operatorButtons[i].disabled = true;
        } else if(operatorButtons[i].value == 'x') {
            firstNumber = displayValue;
            operatorSign = "x";
            displayValue = '';    
            multiplyPress = true;
            //operatorButtons[i].disabled = true;
        } else if(operatorButtons[i].value == '/') {
            firstNumber = displayValue;
            operatorSign = "/";
            displayValue = '';    
            divisionPress = true;
            //operatorButtons[i].disabled = true;
        }
    }); 
};


equalButton.addEventListener('click', () => {
    if (plusPress == true && firstNumber !== '' || displayValue !== '') {
        display.textContent = operate(parseInt(firstNumber),operatorSign, parseInt(displayValue));
        displayValue = display.textContent;
    } else if (subtractPress == true && firstNumber !== '' || displayValue !== '') {
        display.textContent = operate(parseInt(firstNumber),operatorSign, parseInt(displayValue));
        displayValue = display.textContent;
    } else if (multiplyPress == true && firstNumber !== '' || displayValue !== '') {
        display.textContent = operate(parseInt(firstNumber),operatorSign, parseInt(displayValue));
        displayValue = display.textContent;
    } else if (divisionPress == true && firstNumber !== '' || displayValue !== '') {
        display.textContent = operate(parseInt(firstNumber),operatorSign, parseInt(displayValue));
        displayValue = display.textContent;
    } 
});



</script>
</html>